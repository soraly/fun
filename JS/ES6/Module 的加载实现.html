<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Module 的加载实现</title>
</head>

<body>
    <script src="./module_data.js"></script>
    <!-- 1.默认情况下，浏览器是同步加载 JavaScript 脚本，即渲染引擎遇到<script>标签就会停下来，
        等到执行完脚本，再继续向下渲染。如果是外部脚本，还必须加入脚本下载的时间。 -->

    <!-- 2.浏览器允许脚本异步加载，下面就是两种异步加载的语法。 -->
    <script defer src="./module_data.js"></script>
    <script async src="./module_data.js"></script>
    <!-- defer要等到整个页面在内存中正常渲染结束（DOM 结构完全生成，以及其他脚本执行完成），才会执行。
        async一旦下载完，渲染引擎就会中断渲染，执行这个脚本以后，再继续渲染。
        一句话，defer是“渲染完再执行”，async是“下载完就执行”。 -->

    <!-- 3. 浏览器加载 ES6 模块，也使用<script>标签，但是要加入type="module"属性。 -->
    <script src="./module_data.js" type="module"></script>
    <!-- 浏览器对于带有type="module"的<script>，都是异步加载，相当于加了 defer -->

    4. CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。
    CommonJS 模块是运行时加载，ES6 模块是编译时输出接口

    5. Node 要求 ES6 模块采用.mjs后缀文件名
</body>

</html>